"use strict";(globalThis["webpackChunkcovid_tracker"]=globalThis["webpackChunkcovid_tracker"]||[]).push([[523],{3731:(e,t,a)=>{a.d(t,{Z:()=>i});var o=a(4136);class n{getAll(){return o.api.get("all")}getSpecificCountry(e){return o.api.get(`countries/${e}`)}getSpecificState(e){return o.api.get(`states/${e}`)}getAllCountries(){return o.api.get("countries")}getAllStates(){return o.api.get("states")}getCountryVaccineInfo(e,t){return o.api.get(`vaccine/coverage/countries/${e}?lastdays=${t}&fullData=true`)}getStateVaccineInfo(e,t){return o.api.get(`vaccine/coverage/states/${e}?lastdays=${t}&fullData=true`)}}const i=new n},8523:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ce});var o=a(9835),n=a(6970);const i={class:"full-width row wrap justify-between items-start content-start info-row"},l={class:"col-5 info-col-box"},s={class:"bg-linear rounded-borders q-pa-md q-my-md info-box"},r={key:1,class:"row justify-between items-start info-col-box-header"},d={class:"row justify-start items-start area-info-box"},c={class:"country-flag shadow-10"},u={class:"country-name-box"},p={class:"country-name text-white text-weight-bold text-capitalize q-ma-none"},m={class:"vaccine-info-box"},f={key:0,class:"q-pa-md q-my-md"},g={class:"col-6 map-col-box"};function h(e,t,a,h,v,b){const w=(0,o.up)("q-separator"),y=(0,o.up)("areaVaccineDetails"),I=(0,o.up)("q-btn"),x=(0,o.up)("q-card-actions"),C=(0,o.up)("q-card"),_=(0,o.up)("q-dialog"),q=(0,o.up)("q-skeleton"),k=(0,o.up)("q-img"),T=(0,o.up)("q-icon"),W=(0,o.up)("q-item-section"),Z=(0,o.up)("q-item"),$=(0,o.up)("areaCovidDetails"),V=(0,o.up)("areaOnGoogleMap"),z=(0,o.up)("q-page"),D=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(z,null,{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(_,{"full-width":"",modelValue:e.vaccineInfoDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.vaccineInfoDialog=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w),(0,o.Wm)(y,{vaccineInfo:e.vaccineInfo,vaccineInfoTableColumns:e.vaccineInfoTableColumns,onGetVaccineInfo:e.getVaccineInfo,onExportTable:e.exportTable},null,8,["vaccineInfo","vaccineInfoTableColumns","onGetVaccineInfo","onExportTable"]),(0,o.Wm)(w),(0,o.Wm)(x,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(I,{flat:"",label:e.$t("label.close"),color:"primary"},null,8,["label"]),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",l,[(0,o._)("div",s,[e.covidInfoPendingFlag?((0,o.wg)(),(0,o.j4)(q,{key:0,type:"rect",class:"q-pa-md"})):((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",d,[(0,o._)("div",c,[(0,o.Wm)(k,{src:e.svgFlagAddress,class:"rounded-borders"},null,8,["src"])]),(0,o._)("div",u,[(0,o._)("h5",p,(0,n.zw)(e.areaName),1)])]),(0,o._)("div",m,[(0,o.Wm)(I,{class:"text-white text-weight-bold text-capitalize q-pa-none",onClick:t[1]||(t[1]=t=>(e.getVaccineInfo(1),e.vaccineInfoDialog=!e.vaccineInfoDialog)),flat:"",color:"primary",label:e.$t("label.vaccineInfo"),size:"xl"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{name:"vaccines",class:"text-white q-mx-sm vaccine-link-icon",size:"32px"})])),_:1},8,["label"])])]))]),e.covidInfoPendingFlag?((0,o.wg)(),(0,o.iD)("div",f,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(20,(e=>(0,o.Wm)(Z,{key:e},{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(q,{type:"rect",class:"q-pa-md"})])),_:1})])),_:2},1024))),64))])):((0,o.wg)(),(0,o.j4)($,{key:1,covidInfoList:"country"==e.areaType?e.countryCovidInfo:e.stateCovidInfo,areaType:e.areaType},null,8,["covidInfoList","areaType"]))]),(0,o._)("div",g,[(0,o._)("div",{class:(0,n.C_)(["custom-shadow-box rounded-borders q-pa-md q-my-md map-box",e.isDarkMode()?"bg-dark":"bg-white"])},[e.covidInfoPendingFlag?((0,o.wg)(),(0,o.j4)(q,{key:0,height:"100%"})):((0,o.wg)(),(0,o.j4)(V,{key:1,mapAddress:e.mapAddress},null,8,["mapAddress"]))],2)])])])),_:1})}var v=a(6646),b=a(9302),w=a(3731);const y={class:"q-pa-md q-my-md"};function I(e,t,a,i,l,s){const r=(0,o.up)("q-item-label"),d=(0,o.up)("q-item-section"),c=(0,o.up)("q-item"),u=(0,o.up)("q-intersection"),p=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)("div",y,["country"==e.areaType?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(e.covidInfoList,((t,a,i)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(u,{key:i,transition:"scale",class:(0,n.C_)(["custom-shadow-box rounded-borders q-pa-md q-my-md",e.isDarkMode()?"bg-dark":"bg-white"])},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"text-h5 text-weight-bold text-capitalize linear-text bg-linear"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t(`AreaCovidDetail.${a}`)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"text-h5 text-weight-bold text-capitalize linear-text bg-linear"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.seperateNumber(t)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])),[[p]]))),128)):((0,o.wg)(!0),(0,o.iD)(o.HY,{key:1},(0,o.Ko)(e.covidInfoList,((t,a,i)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(u,{key:i,transition:"scale",class:(0,n.C_)(["custom-shadow-box rounded-borders q-pa-md q-my-md",e.isDarkMode()?"bg-dark":"bg-white"])},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"text-h5 text-weight-bold text-capitalize linear-text bg-linear"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t(`AreaCovidDetail.${a}`)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"text-h5 text-weight-bold text-capitalize linear-text bg-linear"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.seperateNumber(t)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])),[[p]]))),128)),(0,o.Wm)(c,{class:"q-pa-md rounded-borders bg-linear"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"text-h6 text-weight-bold text-capitalize text-white"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("general.lastUpdated")),1)])),_:1})])),_:1}),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"text-h6 text-weight-bold text-capitalize text-white"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.getLocaleDate(e.subtractMinute(10))),1)])),_:1})])),_:1})])),_:1})])}const x=(0,o.aZ)({name:"areaCovidDetails",props:{covidInfoList:{type:Object,required:!0},areaType:{type:String,required:!0,validator:e=>"country"==e||"state"==e}}});var C=a(1639),_=a(1517),q=a(490),k=a(1233),T=a(3115),W=a(1136),Z=a(9984),$=a.n(Z);const V=(0,C.Z)(x,[["render",I]]),z=V;$()(x,"components",{QIntersection:_.Z,QItem:q.Z,QItemSection:k.Z,QItemLabel:T.Z}),$()(x,"directives",{Ripple:W.Z});const D=["src"];function Q(e,t,a,n,i,l){return(0,o.wg)(),(0,o.iD)("iframe",{width:"100%",height:"100%",scrolling:"yes",class:"rounded-borders",src:e.mapAddress,allowfullscreen:""},"\n  ",8,D)}const P=(0,o.aZ)({name:"areaOnGoogleMap",props:{mapAddress:{type:String,required:!0}}}),S=(0,C.Z)(P,[["render",Q]]),A=S;var N=a(1957);const j={class:"row justify-between items-center full-width"};function U(e,t,a,i,l,s){const r=(0,o.up)("q-input"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-form"),u=(0,o.up)("q-icon"),p=(0,o.up)("q-th"),m=(0,o.up)("q-tr"),f=(0,o.up)("q-td"),g=(0,o.up)("q-pagination"),h=(0,o.up)("q-table"),v=(0,o.up)("q-card-section");return(0,o.wg)(),(0,o.j4)(v,{class:"scroll"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"sticky-header-table",pagination:e.pagination,"onUpdate:pagination":t[5]||(t[5]=t=>e.pagination=t),separator:"cell","virtual-scroll":"",title:"Vaccine nfo",filter:e.filter,rows:e.vaccineInfo,columns:e.vaccineInfoTableColumns,"row-key":"index",flat:"",bordered:""},{top:(0,o.w5)((()=>[(0,o._)("div",j,[(0,o.Wm)(c,{onSubmit:t[1]||(t[1]=(0,N.iM)((t=>e.$emit("getVaccineInfo",e.dayNumber)),["prevent"])),class:"row justify-start items-center wrap q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{outlined:"",type:"number",modelValue:e.dayNumber,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dayNumber=t),label:e.$t("label.lastDays"),"lazy-rules":"",rules:[t=>null!==t&&""!==t||e.$t("validationRules.notEmpty"),t=>t>0||e.$t("validationRules.mustBePositiveAndBiggerThanZeroValue")]},null,8,["modelValue","label","rules"]),(0,o._)("div",null,[(0,o.Wm)(d,{label:e.$t("label.catch"),type:"submit",color:"primary"},null,8,["label"])])])),_:1}),(0,o.Wm)(r,{outlined:"",modelValue:e.filter,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filter=t),label:e.$t("label.search")},{append:(0,o.w5)((()=>[(0,o.Wm)(u,{name:"search"})])),_:1},8,["modelValue","label"]),(0,o.Wm)(d,{color:"primary","icon-right":"archive",label:e.$t("label.exportCsv"),"no-caps":"",onClick:t[3]||(t[3]=t=>e.$emit("exportTable"))},null,8,["label"])])])),header:(0,o.w5)((e=>[(0,o.Wm)(m,{props:e},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.cols,(t=>((0,o.wg)(),(0,o.j4)(p,{key:t.name,props:e,class:"text-primary text-capitalize"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,o.w5)((t=>[(0,o.Wm)(m,{props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{key:"index",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.row.index+1),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"total",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.seperateNumber(t.row.total)),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"daily",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.seperateNumber(t.row.daily)),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"totalPerHundred",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.seperateNumber(t.row.totalPerHundred)),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"dailyPerMillion",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.seperateNumber(t.row.dailyPerMillion)),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"date",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(t.row.date),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),pagination:(0,o.w5)((()=>[e.pagesNumber<=e.vaccineInfo.length?((0,o.wg)(),(0,o.j4)(g,{key:0,modelValue:e.pagination.page,"onUpdate:modelValue":t[4]||(t[4]=t=>e.pagination.page=t),color:"primary",max:e.pagesNumber,"max-pages":6,"boundary-numbers":"",size:"md"},null,8,["modelValue","max"])):(0,o.kq)("",!0)])),_:1},8,["pagination","filter","rows","columns"])])),_:1})}const F=(0,o.aZ)({name:"areaVaccineDetails",emits:["getVaccineInfo","exportTable"],data(){return{filter:"",pagination:{sortBy:"desc",descending:!1,page:1,rowsPerPage:10},dayNumber:1}},props:{vaccineInfo:{type:Array,required:!0},vaccineInfoTableColumns:{type:Array,required:!0}},computed:{pagesNumber(){return Math.ceil(this.vaccineInfo.length/this.pagination.rowsPerPage)}}});var M=a(3190),H=a(1746),L=a(8326),B=a(6611),G=a(4455),E=a(2857),K=a(9546),O=a(1682),Y=a(7220),R=a(996);const J=(0,C.Z)(F,[["render",U],["__scopeId","data-v-60d2b985"]]),X=J;$()(F,"components",{QCardSection:M.Z,QTable:H.Z,QForm:L.Z,QInput:B.Z,QBtn:G.Z,QIcon:E.Z,QTr:K.Z,QTh:O.Z,QTd:Y.Z,QPagination:R.Z});const ee=(0,o.aZ)({name:"covidInfo",components:{areaCovidDetails:z,areaOnGoogleMap:A,areaVaccineDetails:X},data(){return{areaType:"",areaName:"",mapAddress:"",svgFlagAddress:"",lat:0,long:0,stateCovidInfo:{},countryCovidInfo:{},covidInfoPendingFlag:!0,vaccineInfoDialog:!1,vaccineInfo:[],vaccineInfoTableColumns:[{name:"index",label:"#",format:e=>{},field:"index"},{name:"total",align:"center",label:this.$t("vaccineInfoTableColumns.total"),field:"total",sortable:!0},{name:"daily",align:"center",label:this.$t("vaccineInfoTableColumns.daily"),field:"daily",sortable:!0},{name:"totalPerHundred",align:"center",label:this.$t("vaccineInfoTableColumns.totalPerHundred"),field:"totalPerHundred",sortable:!0},{name:"dailyPerMillion",align:"center",label:this.$t("vaccineInfoTableColumns.dailyPerMillion"),field:"dailyPerMillion",sortable:!0},{name:"date",align:"center",label:this.$t("vaccineInfoTableColumns.date"),field:"date",sortable:!0}],$q:(0,b.Z)()}},methods:{updateCountryCovidInfo(){var e,t,a;null===(e=this.countryCovidInfo)||void 0===e||delete e.countryInfo,null===(t=this.countryCovidInfo)||void 0===t||delete t.continent,null===(a=this.countryCovidInfo)||void 0===a||delete a.country},crunchingCountryCovidInfo(e){this.lat=e.countryInfo?e.countryInfo.lat:0,this.long=e.countryInfo?e.countryInfo.long:0,this.areaName=e.country?e.country:"",this.mapAddress=`https://maps.google.com/maps?q=${this.lat},${this.long}&hl=es&z=4&amp;&output=embed`,this.svgFlagAddress=`https://countryflagsapi.com/svg/${this.$route.params.code}`,this.countryCovidInfo=e,this.updateCountryCovidInfo()},getCountryCovidInfo(e){w.Z.getSpecificCountry(e).then((e=>{let t=e.data;this.covidInfoPendingFlag=!1,this.crunchingCountryCovidInfo(t)})).catch((e=>{e.response&&e.response.status&&404==e.response.status&&this.$router.push({name:"notFound"})}))},updateStateCovidInfo(){var e;null===(e=this.stateCovidInfo)||void 0===e||delete e.state},crunchingStateCovidInfo(e){this.areaName=e.state?e.state:"",this.mapAddress=`https://maps.google.com/maps?q=${this.areaName}&hl=es&z=4&amp;&output=embed`,this.svgFlagAddress="https://countryflagsapi.com/svg/us",this.stateCovidInfo=e,this.updateStateCovidInfo()},getStateCovidInfo(e){w.Z.getSpecificState(e).then((e=>{let t=e.data;this.covidInfoPendingFlag=!1,this.crunchingStateCovidInfo(t)})).catch((e=>{e.response&&e.response.status&&404==e.response.status&&this.$router.push({name:"notFound"})}))},getVaccineInfo(e){"country"==this.areaType?w.Z.getCountryVaccineInfo(this.areaName,e).then((e=>{let t=e.data;this.vaccineInfo=t.timeline,this.addIndexFieldToTable()})).catch((e=>{e.response&&e.response.status&&404==e.response.status&&this.$router.push({name:"notFound"})})):"state"==this.areaType&&w.Z.getStateVaccineInfo(this.areaName,e).then((e=>{let t=e.data;this.vaccineInfo=t.timeline,this.addIndexFieldToTable()})).catch((e=>{e.response&&e.response.status&&404==e.response.status&&this.$router.push({name:"notFound"})}))},addIndexFieldToTable(){this.vaccineInfo.forEach(((e,t)=>{e.index=t}))},wrapCsvValue(e,t,a){let o=void 0!==t?t(e,a):e;return o=void 0===o||null===o?"":String(o),o=o.split('"').join('""'),`"${o}"`},exportTable(){const e=[this.vaccineInfoTableColumns.map((e=>this.wrapCsvValue(e.label)))].concat(this.vaccineInfo.map((e=>this.vaccineInfoTableColumns.map((t=>this.wrapCsvValue("function"===typeof t.field?t.field:e[void 0===t.field?t.name:t.field],t.format,e))).join(",")))).join("\r\n"),t=(0,v.Z)("table-export.csv",e,"text/csv");!0!==t&&this.$q.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})}},watch:{"$route.params.code":{handler:function(e){if(e){let e=this.$route.params.code;e=e.toString(),this.areaType=this.$route.path.includes("state")?"state":"country","country"==this.areaType?this.getCountryCovidInfo(e):this.getStateCovidInfo(e)}},deep:!0,immediate:!0}}});var te=a(9885),ae=a(2074),oe=a(4458),ne=a(926),ie=a(1821),le=a(7133),se=a(335),re=a(2146);const de=(0,C.Z)(ee,[["render",h],["__scopeId","data-v-1b7f1067"]]),ce=de;$()(ee,"components",{QPage:te.Z,QDialog:ae.Z,QCard:oe.Z,QSeparator:ne.Z,QCardActions:ie.Z,QBtn:G.Z,QSkeleton:le.ZP,QImg:se.Z,QIcon:E.Z,QItem:q.Z,QItemSection:k.Z}),$()(ee,"directives",{ClosePopup:re.Z})}}]);